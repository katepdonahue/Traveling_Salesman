
<%#= render 'map' %>

<script type="text/javascript">
  var data = new Object();
  <% @data.each do |route_id, route_hash| %>
    var routeId = <%= route_id %>;
    data[String(routeId)] = new Object();
    <% route_hash.each do |sub_route_id, address_arr| %>
      var subRouteId = <%= sub_route_id %>;
      var subRouteHash = new Object();
      subRouteHash["origin"] = "<%= address_arr.first %>";
      subRouteHash["destination"] = "<%= address_arr.last %>";
      // subRouteHash["departureTime"] = 1391530628316;
      subRouteHash["travelMode"] = google.maps.TravelMode.DRIVING;

      // directionsService.route(subRouteHash, function(response, status) {
      //   if (status == google.maps.DirectionsStatus.OK) {
      //     data[String(routeId)][String(subRouteId)] = response;
      //   }
      // });
      
      // data[String(routeId)][String(subRouteId)] = response1;

    <% end %>
  <% end %>
  var cache = new Object();
  cache[0] = new Object();
  cache[1] = new Object();
  cache[0][0] = response1;
  cache[0][1] = response2;
  cache[0][2] = response3;
  cache[1][0] = response4;
  cache[1][1] = response5;
  cache[1][2] = response6;
  
</script>



